# Quick-Survey 配置文件
# 复制此文件为 config.yml 并修改配置

# 服务器配置
server:
  host: "0.0.0.0"
  port: 8000
  debug: false

# 数据库配置
database:
  # SQLite 数据库路径
  url: "sqlite+aiosqlite:///./data/survey.db"

# 认证配置 (与 Java 端共享)
auth:
  # 从 Java 端 config.yml 复制 admin-password 的值
  admin_password: "your-admin-password-here"

# 文件上传配置
upload:
  # 上传文件存储目录
  path: "./uploads"
  # 允许的图片类型
  allowed_types: ["image/jpeg", "image/png", "image/gif", "image/webp"]
  # 最大文件大小 (MB)
  max_size_mb: 10

# CORS 配置
cors:
  allowed_origins: 
    - "https://panel.mcwok.cn"
    - "http://localhost:5173"
    - "http://localhost:5174"

# 安全配置
security:
  # Cloudflare Turnstile 配置
  turnstile:
    # 是否启用 Turnstile 验证
    enabled: false
    # Turnstile Secret Key (从 Cloudflare Dashboard 获取)
    secret_key: ""
  
  # IP 提交限制
  rate_limit:
    # 是否启用 IP 限制
    enabled: true
    # 同一 IP 每天最大提交次数
    max_submissions_per_day: 3
  
  # 提交时间检测
  time_check:
    # 是否启用时间检测
    enabled: true
    # 最小填写时间（秒），低于此时间视为可疑
    min_submit_time: 5

# 清理任务配置
cleanup:
  # 是否启用自动清理
  enabled: false
  # 清理间隔（天）
  interval_days: 1
  # 每天执行时间（小时，0-23，如 3 表示凌晨3点）
  run_hour: 3
  # 孤立文件超过多少小时后删除
  orphan_file_hours: 24
